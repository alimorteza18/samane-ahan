import { Badge } from "reactstrap";
import { Container, Row, Col } from "react-bootstrap";
import dynamic from "next/dynamic";
import { connect } from "react-redux";
import { updateUserProfile } from "@/redux/action/auth";
import useAuth from "@/hooks/use-auth";

const MapLocation = dynamic(() => import("./map-location"), { ssr: false });

interface VendorInfoTabContentProps {
  data: UserVendor;
  profile?: AuthUserProfile;
  dispatch?: any;
}

const VendorInfoTabContent = ({
  data,
  profile,
  dispatch,
}: VendorInfoTabContentProps) => {
  const { isVendor } = useAuth();

  return (
    <Container>
      <Row>
        <Col xs={12}>
          {/* Descriptions */}
          <div>
            <h5 className="mb-20">درباره بنگاه</h5>
            <p>{data.description}</p>
          </div>
        </Col>
        <Col xs={12} className="mt-30">
          <Row>
            <Col xs={12} md={6}>
              {/* Permissions */}
              <div>
                <h5 className="mb-20">مقاطع فعال</h5>
                <div>
                  <h4>
                    {data?.permissions?.length &&
                      data?.permissions?.map((permission: any, index: any) => (
                        <Badge
                          className="mr-5 bg-white mt-5"
                          style={{ border: "1px solid gray" }}
                          key={index}
                        >
                          <i className={`icon icon-${permission.id}`}></i>
                          <label htmlFor="">{permission.type}</label>
                        </Badge>
                      ))}
                  </h4>
                </div>
              </div>

              {/* Address */}
              <div className="mt-20 d-flex">
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 28 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.0527 2.5C11.9178 2.50278 9.87101 3.43904 8.36138 5.10341C6.85174 6.76778 6.00253 9.02435 6.00001 11.3781C5.99745 13.3016 6.56734 15.1729 7.62226 16.705C7.62226 16.705 7.84188 17.0238 7.87776 17.0698L14.0527 25.0989L20.2306 17.0658C20.2628 17.023 20.4832 16.705 20.4832 16.705L20.4839 16.7026C21.5383 15.1712 22.1079 13.3007 22.1054 11.3781C22.1029 9.02435 21.2537 6.76778 19.7441 5.10341C18.2344 3.43904 16.1877 2.50278 14.0527 2.5ZM14.0527 14.6065C13.4736 14.6065 12.9074 14.4172 12.4259 14.0624C11.9443 13.7077 11.569 13.2035 11.3474 12.6136C11.1257 12.0237 11.0677 11.3745 11.1807 10.7483C11.2937 10.122 11.5726 9.54679 11.9821 9.09529C12.3917 8.64379 12.9134 8.33631 13.4814 8.21174C14.0495 8.08718 14.6383 8.15111 15.1733 8.39546C15.7084 8.63981 16.1657 9.0536 16.4875 9.58451C16.8092 10.1154 16.981 10.7396 16.981 11.3781C16.98 12.234 16.6712 13.0546 16.1222 13.6598C15.5733 14.265 14.8291 14.6055 14.0527 14.6065Z"
                    fill="#333333"
                  />
                </svg>

                <p>{data.address}</p>
              </div>

              {/* Phone */}
              {data?.phone ? (
                <div className="mt-20 d-flex" style={{ alignItems: "center" }}>
                  <label htmlFor="">موبایل : </label>
                  <button
                    // onClick={handleClick}
                    className="product-table-call-btn mobile-btn mr-10"
                    // aria-label={data.userVendor.name}
                  >
                    <svg
                      className="shake"
                      width="16"
                      height="19"
                      viewBox="0 0 16 19"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M1.66506 13.4146C2.74263 13.2296 3.75612 12.8753 4.67629 12.3926C4.96549 12.2348 5.32023 12.2551 5.59598 12.4512L7.25746 13.9427C9.54074 12.3333 11.4921 9.69855 12.3019 6.91705L10.3525 5.75456C10.0753 5.54961 9.94862 5.21963 9.99416 4.89616C10.1571 3.8671 10.1508 2.79496 9.97221 1.71632C9.8938 1.24276 10.2227 0.780465 10.6958 0.699261L13.727 0.178951C14.2001 0.0977461 14.8044 0.210468 14.9133 0.86818C16.2622 9.01504 10.6111 16.9475 2.48108 18.343C1.85907 18.4498 1.52229 17.9394 1.44243 17.4571L0.941488 14.4316C0.86308 13.9581 1.19197 13.4958 1.66506 13.4146Z"
                        fill="#323232"
                      />
                    </svg>
                    <label
                      className="d-none d-lg-block"
                      style={{
                        fontWeight: "600",
                        fontSize: "12px",
                        lineHeight: "18px",
                        marginRight: "5px",
                        // cursor: "pointer",
                      }}
                    >
                      {isVendor ? data?.phone : "تماس"}
                    </label>
                  </button>
                  <div className="social-icons d-flex mr-20">
                    {data?.whatsapp_url ? (
                      <a
                        href={data?.whatsapp_url}
                        className="mr-5"
                        target="_blank"
                      >
                        <svg
                          viewBox="0 0 45 44"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <rect x="0.0498047" rx="6.28571" fill="#4F4F4F" />
                          <path
                            d="M31.3009 13.1584C28.9004 10.7521 25.7035 9.42871 22.3061 9.42871C15.2936 9.42871 9.58737 15.135 9.58737 22.1475C9.58737 24.3876 10.1717 26.5761 11.2832 28.5068L9.47852 35.0954L16.2217 33.3251C18.078 34.3391 20.1691 34.8719 22.3004 34.8719H22.3061C29.3129 34.8719 35.1452 29.1657 35.1452 22.1532C35.1452 18.7558 33.7014 15.5646 31.3009 13.1584ZM22.3061 32.7292C20.404 32.7292 18.5421 32.2193 16.9207 31.2568L16.5368 31.0277L12.5379 32.0761L13.6035 28.1745L13.3514 27.7735C12.2915 26.0891 11.7358 24.1469 11.7358 22.1475C11.7358 16.3209 16.4796 11.5771 22.3118 11.5771C25.1363 11.5771 27.7889 12.6771 29.7827 14.6766C31.7764 16.6761 33.0025 19.3287 32.9967 22.1532C32.9967 27.9855 28.1327 32.7292 22.3061 32.7292ZM28.104 24.8115C27.7889 24.6511 26.2249 23.8834 25.9327 23.7803C25.6405 23.6714 25.4285 23.6199 25.2165 23.9407C25.0046 24.2615 24.3973 24.9719 24.2082 25.1896C24.0249 25.4016 23.8358 25.4303 23.5207 25.2699C21.653 24.336 20.427 23.6027 19.1952 21.4886C18.8686 20.9271 19.5217 20.9673 20.129 19.7527C20.2322 19.5407 20.1806 19.3574 20.1004 19.1969C20.0202 19.0365 19.3842 17.4725 19.1207 16.8365C18.8629 16.2178 18.5993 16.3037 18.4046 16.2923C18.2212 16.2808 18.0092 16.2808 17.7973 16.2808C17.5853 16.2808 17.2415 16.361 16.9493 16.6761C16.6572 16.9969 15.8379 17.7646 15.8379 19.3287C15.8379 20.8928 16.978 22.4053 17.1327 22.6173C17.2931 22.8292 19.3728 26.0376 22.5639 27.4183C24.5806 28.2891 25.3712 28.3636 26.3796 28.2146C26.9926 28.123 28.2587 27.4469 28.5223 26.7021C28.7858 25.9574 28.7858 25.3214 28.7056 25.1896C28.6311 25.0464 28.4191 24.9662 28.104 24.8115Z"
                            fill="white"
                          />
                        </svg>
                      </a>
                    ) : null}

                    {data?.ig_url ? (
                      <a href={data?.ig_url} className="mr-5" target="_blank">
                        <svg
                          viewBox="0 0 45 44"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <rect x="0.366211" rx="6.28571" fill="#4F4F4F" />
                          <g clip-path="url(#clip0_2619_20633)">
                            <path
                              d="M18.7009 22.2623C18.7009 20.0927 20.4593 18.3334 22.629 18.3334C24.7987 18.3334 26.558 20.0927 26.558 22.2623C26.558 24.4319 24.7987 26.1912 22.629 26.1912C20.4593 26.1912 18.7009 24.4319 18.7009 22.2623ZM16.5769 22.2623C16.5769 25.6047 19.2864 28.3141 22.629 28.3141C25.9715 28.3141 28.681 25.6047 28.681 22.2623C28.681 18.9198 25.9715 16.2105 22.629 16.2105C19.2864 16.2105 16.5769 18.9198 16.5769 22.2623ZM27.5063 15.9705C27.506 16.7516 28.1389 17.385 28.92 17.3853C29.7012 17.3857 30.3346 16.7527 30.335 15.9716C30.3353 15.1905 29.7023 14.5571 28.9212 14.5568H28.9206C28.1399 14.5571 27.5069 15.1898 27.5063 15.9705ZM17.8673 31.8556C16.7182 31.8032 16.0937 31.6118 15.6786 31.4501C15.1283 31.2359 14.7357 30.9808 14.3229 30.5686C13.9101 30.1563 13.6546 29.7641 13.4413 29.2139C13.2795 28.799 13.0881 28.1743 13.0359 27.0252C12.9787 25.7829 12.9673 25.4097 12.9673 22.2624C12.9673 19.115 12.9797 18.7429 13.0359 17.4995C13.0882 16.3505 13.281 15.727 13.4413 15.3109C13.6555 14.7606 13.9107 14.368 14.3229 13.9552C14.7351 13.5425 15.1274 13.2869 15.6786 13.0737C16.0935 12.9119 16.7182 12.7205 17.8673 12.6682C19.1097 12.6111 19.4829 12.5997 22.629 12.5997C25.775 12.5997 26.1486 12.612 27.392 12.6682C28.5411 12.7206 29.1646 12.9134 29.5807 13.0737C30.131 13.2869 30.5236 13.543 30.9364 13.9552C31.3492 14.3675 31.6038 14.7606 31.818 15.3109C31.9798 15.7257 32.1712 16.3505 32.2235 17.4995C32.2806 18.7429 32.292 19.115 32.292 22.2624C32.292 25.4097 32.2806 25.7819 32.2235 27.0252C32.1711 28.1743 31.9788 28.7988 31.818 29.2139C31.6038 29.7641 31.3487 30.1567 30.9364 30.5686C30.5242 30.9804 30.131 31.2359 29.5807 31.4501C29.1659 31.6119 28.5411 31.8033 27.392 31.8556C26.1496 31.9127 25.7764 31.9241 22.629 31.9241C19.4815 31.9241 19.1093 31.9127 17.8673 31.8556ZM17.7698 10.5479C16.515 10.6051 15.6577 10.804 14.9089 11.0954C14.1335 11.3962 13.477 11.7999 12.8211 12.4548C12.1651 13.1097 11.7625 13.7671 11.4616 14.5425C11.1702 15.2917 10.9713 16.1486 10.9142 17.4033C10.8561 18.6599 10.8428 19.0617 10.8428 22.2623C10.8428 25.4629 10.8561 25.8647 10.9142 27.1213C10.9713 28.376 11.1702 29.2328 11.4616 29.982C11.7625 30.7569 12.1652 31.4152 12.8211 32.0698C13.4769 32.7244 14.1335 33.1275 14.9089 33.4292C15.6591 33.7205 16.515 33.9195 17.7698 33.9766C19.0271 34.0338 19.4282 34.048 22.629 34.048C25.8297 34.048 26.2315 34.0347 27.4882 33.9766C28.743 33.9195 29.5998 33.7205 30.349 33.4292C31.124 33.1275 31.7809 32.7247 32.4369 32.0698C33.0928 31.4149 33.4946 30.7569 33.7963 29.982C34.0877 29.2328 34.2876 28.3759 34.3438 27.1213C34.4009 25.8637 34.4142 25.4629 34.4142 22.2623C34.4142 19.0617 34.4009 18.6599 34.3438 17.4033C34.2866 16.1485 34.0877 15.2913 33.7963 14.5425C33.4946 13.7676 33.0918 13.1107 32.4369 12.4548C31.7819 11.7988 31.124 11.3962 30.3499 11.0954C29.5998 10.804 28.7429 10.6041 27.4891 10.5479C26.2324 10.4908 25.8307 10.4766 22.6299 10.4766C19.4292 10.4766 19.0271 10.4899 17.7698 10.5479Z"
                              fill="white"
                            />
                          </g>
                          <defs>
                            <clipPath id="clip0_2619_20633">
                              <rect
                                width="23.5714"
                                height="23.5714"
                                fill="white"
                                transform="translate(10.8428 10.4766)"
                              />
                            </clipPath>
                          </defs>
                        </svg>
                      </a>
                    ) : null}

                    {data?.website_url ? (
                      <a
                        href={data?.website_url}
                        className="mr-5"
                        target="_blank"
                      >
                        <svg
                          viewBox="0 0 45 44"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <rect x="0.683594" rx="6.28571" fill="#4F4F4F" />
                          <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M10.7666 21.9997C10.7666 25.1602 12.0221 28.1912 14.2569 30.426C16.4917 32.6608 19.5228 33.9163 22.6833 33.9163C25.8438 33.9163 28.8748 32.6608 31.1096 30.426C33.3444 28.1912 34.5999 25.1602 34.5999 21.9997C34.5999 18.8392 33.3444 15.8081 31.1096 13.5733C28.8748 11.3385 25.8438 10.083 22.6833 10.083C19.5228 10.083 16.4917 11.3385 14.2569 13.5733C12.0221 15.8081 10.7666 18.8392 10.7666 21.9997ZM32.5571 21.9997C32.5571 24.6184 31.5168 27.1298 29.6651 28.9815C27.8134 30.8332 25.302 31.8735 22.6833 31.8735C20.0646 31.8735 17.5531 30.8332 15.7014 28.9815C13.8497 27.1298 12.8095 24.6184 12.8095 21.9997C12.8095 19.381 13.8497 16.8695 15.7014 15.0178C17.5531 13.1661 20.0646 12.1259 22.6833 12.1259C25.302 12.1259 27.8134 13.1661 29.6651 15.0178C31.5168 16.8695 32.5571 19.381 32.5571 21.9997Z"
                            fill="white"
                          />
                          <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M17.5762 21.9994C17.5762 28.1579 19.6068 33.2351 22.6833 33.2351C25.7599 33.2351 27.7905 28.1579 27.7905 21.9994C27.7905 15.8409 25.7599 10.7637 22.6833 10.7637C19.6068 10.7637 17.5762 15.8409 17.5762 21.9994ZM25.7476 21.9994C25.7476 27.1229 24.1201 31.1922 22.6833 31.1922C21.2465 31.1922 19.619 27.1229 19.619 21.9994C19.619 16.8759 21.2465 12.8065 22.6833 12.8065C24.1201 12.8065 25.7476 16.8759 25.7476 21.9994Z"
                            fill="white"
                          />
                          <path
                            d="M13.9695 15.826L15.3396 14.3115C15.4758 14.4341 15.6242 14.5567 15.7822 14.6752C17.5132 15.9717 20.2765 16.7725 23.2931 16.7725C25.8685 16.7725 28.2668 16.191 30.0087 15.1954C30.4281 14.9557 30.8013 14.6956 31.1241 14.4191L32.4506 15.973C32.0074 16.3489 31.5295 16.6818 31.0233 16.9672C28.9586 18.1494 26.2103 18.814 23.2931 18.814C19.8584 18.814 16.6674 17.8906 14.5565 16.3094C14.3535 16.1574 14.1576 15.996 13.9695 15.826ZM13.9695 28.1948L15.3396 29.7092C15.4758 29.5853 15.6242 29.4641 15.7822 29.3456C17.5132 28.0491 20.2765 27.2483 23.2931 27.2483C25.8685 27.2483 28.2668 27.8298 30.0087 28.8253C30.4281 29.065 30.8013 29.3252 31.1241 29.6016L32.4506 28.0477C32.0068 27.6725 31.529 27.3397 31.0233 27.0535C28.9586 25.8714 26.2103 25.2068 23.2931 25.2068C19.8584 25.2068 16.6674 26.1301 14.5565 27.7113C14.3535 27.8634 14.1576 28.0247 13.9695 28.1948ZM11.4473 23.0209V20.978H33.9187V23.0209H11.4473Z"
                            fill="white"
                          />
                        </svg>
                      </a>
                    ) : null}

                    {data?.tg_url ? (
                      <a href={data?.tg_url} className="mr-5" target="_blank">
                        <svg
                          viewBox="0 0 44 44"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <rect rx="6.28571" fill="#4F4F4F" />
                          <path
                            d="M32.2982 11.8828L10.5142 20.3307C9.63755 20.7241 9.34104 21.512 10.3023 21.9395L15.8908 23.7256L29.4032 15.3275C30.141 14.8002 30.8963 14.9408 30.2464 15.5208L18.6411 26.088L18.2765 30.56C18.6142 31.2505 19.2324 31.2537 19.6268 30.9105L22.8376 27.8553L28.3366 31.9963C29.6137 32.7567 30.3087 32.266 30.5835 30.8723L34.1903 13.6969C34.5648 11.9814 33.9262 11.2255 32.2982 11.8828Z"
                            fill="white"
                          />
                        </svg>
                      </a>
                    ) : null}
                  </div>
                </div>
              ) : null}

              {/* Mobile */}
              {data?.mobile ? (
                <div className="mt-20 d-flex" style={{ alignItems: "center" }}>
                  <label htmlFor="">تلفن : </label>
                  <button
                    style={{
                      background: "#ffda72",
                      border: "1px solid #DDDDDD",
                      borderRadius: "8px",
                      color: "black",
                    }}
                    // onClick={handleClick}
                    className="product-table-call-btn mr-20"
                    // aria-label={data.userVendor.name}
                  >
                    <svg
                      className="shake"
                      width="16"
                      height="19"
                      viewBox="0 0 16 19"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M1.66506 13.4146C2.74263 13.2296 3.75612 12.8753 4.67629 12.3926C4.96549 12.2348 5.32023 12.2551 5.59598 12.4512L7.25746 13.9427C9.54074 12.3333 11.4921 9.69855 12.3019 6.91705L10.3525 5.75456C10.0753 5.54961 9.94862 5.21963 9.99416 4.89616C10.1571 3.8671 10.1508 2.79496 9.97221 1.71632C9.8938 1.24276 10.2227 0.780465 10.6958 0.699261L13.727 0.178951C14.2001 0.0977461 14.8044 0.210468 14.9133 0.86818C16.2622 9.01504 10.6111 16.9475 2.48108 18.343C1.85907 18.4498 1.52229 17.9394 1.44243 17.4571L0.941488 14.4316C0.86308 13.9581 1.19197 13.4958 1.66506 13.4146Z"
                        fill="#323232"
                      />
                    </svg>
                    <label
                      style={{
                        fontWeight: "600",
                        fontSize: "12px",
                        lineHeight: "18px",
                        marginRight: "5px",
                        // cursor: "pointer",
                      }}
                    >
                      {isVendor ? data?.mobile : "تماس"}
                    </label>
                  </button>
                </div>
              ) : null}
            </Col>

            {/* Map Location */}
            <Col xs={12} md={6}>
              {data?.location?.lat ||
              data?.city?.province?.location?.lat ||
              data?.address_location?.lat ? (
                <MapLocation
                  zoom={
                    data?.location?.lat
                      ? 17
                      : data?.city?.province?.location?.lat
                      ? 10
                      : data?.address_location?.lat
                      ? 10
                      : undefined
                  }
                  position={
                    data?.location ??
                    data?.city?.province?.location ??
                    data?.address_location
                  }
                  address={data?.address}
                />
              ) : null}
            </Col>
          </Row>
        </Col>
      </Row>
    </Container>
  );
};

const mapStateToProps = (state: any) => ({
  selectedPackages: state.packages,
  profile: state.auth.profile,
});
const mapDispatchToProps = {
  updateUserProfile,
};

export default connect(
  mapStateToProps,
  mapDispatchToProps
)(VendorInfoTabContent);
